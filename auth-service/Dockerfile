FROM openjdk:17-jdk

ARG AUTH_PORT
ARG JWT_SECRET_KEY
ARG JWT_EXPIRATION_TIME
ARG USER_SERVICE_NAME
ARG USER_SERVICE_URL

ENV AUTH_PORT=${AUTH_PORT}
ENV JWT_SECRET_KEY=${JWT_SECRET_KEY}
ENV JWT_EXPIRATION_TIME=${JWT_EXPIRATION_TIME}
ENV USER_SERVICE_NAME=${USER_SERVICE_NAME}
ENV USER_SERVICE_URL=${USER_SERVICE_URL}

WORKDIR /ipho

COPY build/libs/auth-service.jar /ipho/auth-service.jar

ENTRYPOINT ["java", "-jar", "/ipho/auth-service.jar"]